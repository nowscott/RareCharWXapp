<!--index.wxml-->
<view class="page {{fontLoaded ? 'font-loaded' : ''}}">
 <!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->
 <view class="custom-nav">
      <view class="nav-title" 
      style="margin-top:{{statusBarHeight}};height:{{titleHeight}};font-size:{{titleHeight}};"
      >Â§çÂà∂Á¨¶</view>
 </view>
  <view class="container">
    <!-- ÊêúÁ¥¢Âå∫Âüü -->
    <view class="search-box">
      <input class="search-input" 
             placeholder="üîçËæìÂÖ•Ê£ÄÁ¥¢ËØç..." 
             bindinput="onSearch"
             value="{{searchText}}"
      />
    </view>

    <!-- ÂàÜÁ±ªÊ†áÁ≠æ -->
    <scroll-view 
      class="category-scroll" 
      scroll-x 
      enhanced="{{true}}"
      show-scrollbar="{{false}}"
    >
      <view class="category-list">
        <view class="category-item {{currentCategory === item ? 'active' : ''}}" 
              wx:for="{{showCategories}}"
              wx:key="*this"
              bindtap="switchCategory" 
              data-category="{{item}}">{{item}}</view>
      </view>
    </scroll-view>

    <!-- Á¨¶Âè∑ÂàóË°® -->
    <scroll-view 
      class="symbols-scroll" 
      scroll-y 
      scroll-top="{{scrollTop}}"
      bindscroll="onSymbolScroll"
    >
      <view class="symbols-list {{isLoading ? 'loading' : ''}}">
        <block wx:if="{{!isLoading}}">
          <block wx:if="{{showSymbols.length > 0}}">
            <view class="symbol-item" 
                  wx:for="{{showSymbols}}" 
                  wx:key="id"
                  style="{{item.style}}"
                  bindtap="showSymbolDetail" 
                  data-symbol="{{item}}">
              <text class="symbol">{{item.symbol}}</text>
              <text class="description">{{item.description}}</text>
            </view>
          </block>
          <block wx:else>
            <view class="empty-tip">
              <text>Ê≤°ÊúâÊâæÂà∞Áõ∏ÂÖ≥Á¨¶Âè∑</text>
            </view>
          </block>
        </block>
        <block wx:else>
          <view class="loading-container">
            <view class="loading-dots">
              <view class="dot"></view>
              <view class="dot"></view>
              <view class="dot"></view>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>

    <!-- ‰ΩøÁî®Á¨¶Âè∑ËØ¶ÊÉÖÁªÑ‰ª∂ -->
    <symbol-detail 
      show="{{showDetail}}" 
      symbol="{{currentSymbol}}"
      bindclose="hideSymbolDetail"
    />
  </view>
</view>
