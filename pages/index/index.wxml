<!--index.wxml-->
<view class="container" style="padding-top: {{navHeight}}">
  <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <view class="custom-nav" style="height: {{navHeight}}">
    <view class="nav-title" style="margin-top: {{statusBarHeight}}">å¤åˆ¶ç¬¦</view>
  </view>

  <!-- æœç´¢åŒºåŸŸ -->
  <view class="search-box">
    <input class="search-input" 
           placeholder="ğŸ”è¾“å…¥æ£€ç´¢è¯..." 
           bindinput="onSearch"
           value="{{searchText}}"
    />
  </view>

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <scroll-view 
    class="category-scroll" 
    scroll-x 
    enhanced="{{true}}"
    show-scrollbar="{{false}}"
  >
    <view class="category-list">
      <view class="category-item {{currentCategory === item ? 'active' : ''}}" 
            wx:for="{{categories}}"
            wx:key="*this"
            bindtap="switchCategory" 
            data-category="{{item}}">{{item}}</view>
    </view>
  </scroll-view>

  <!-- ç¬¦å·åˆ—è¡¨ -->
  <scroll-view 
    class="symbols-scroll" 
    scroll-y 
    scroll-top="{{scrollTop}}"
    bindscroll="onSymbolScroll"
  >
    <view class="symbols-list">
      <block wx:if="{{showSymbols.length > 0}}">
        <view class="symbol-item" 
              wx:for="{{showSymbols}}" 
              wx:key="id"
              bindtap="showSymbolDetail" 
              data-symbol="{{item}}">
          <text class="symbol">{{item.symbol}}</text>
          <text class="description">{{item.description}}</text>
        </view>
      </block>
      <block wx:else>
        <view class="empty-tip">
          <text>æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç¬¦å·</text>
        </view>
      </block>
    </view>
  </scroll-view>

  <!-- ä½¿ç”¨ç¬¦å·è¯¦æƒ…ç»„ä»¶ -->
  <symbol-detail 
    show="{{showDetail}}" 
    symbol="{{currentSymbol}}"
    bindclose="hideSymbolDetail"
  />
</view>
